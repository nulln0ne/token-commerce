# Используем официальный образ Node.js в качестве базового
FROM node:21

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем файлы package.json и pnpm-lock.yaml в рабочую директорию
COPY package.json pnpm-lock.yaml ./

# Устанавливаем pnpm глобально
RUN npm install -g pnpm

# Устанавливаем зависимости
RUN pnpm install

# Копируем остальной исходный код в рабочую директорию
COPY . .

# Открываем порт 5173 для внешнего доступа
EXPOSE 5173

# Запускаем приложение
CMD ["pnpm","dev",]
